parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"in7L":[function(require,module,exports) {
"use strict";function o(r){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}var r=this&&this.__assign||function(){return(r=Object.assign||function(o){for(var r,t=1,n=arguments.length;t<n;t++)for(var e in r=arguments[t])Object.prototype.hasOwnProperty.call(r,e)&&(o[e]=r[e]);return o}).apply(this,arguments)},t=this&&this.__spreadArrays||function(){for(var o=0,r=0,t=arguments.length;r<t;r++)o+=arguments[r].length;var n=Array(o),e=0;for(r=0;r<t;r++)for(var u=arguments[r],c=0,l=u.length;c<l;c++,e++)n[e]=u[c];return n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeNextState=exports.getNewCellState=exports.initalizeGrid=exports.drawBoard=exports.getNeighborIndicies=exports.detectGlider=exports.detectBoat=exports.detectLoaf=exports.detectToad=exports.detectPulsar=exports.detectTub=exports.detectBlinker=exports.detectBlock=exports.detectPatterns=void 0,exports.detectPatterns=function(o){},exports.detectBlock=function(o,r){var t=[{row:r.row,column:r.column},{row:r.row,column:r.column-1},{row:r.row-1,column:r.column-1},{row:r.row-1,column:r.column}];return 4===o.filter(function(o){return t.some(function(r){return o.row===r.row&&o.column===r.column})&&o.active}).length},exports.detectBlinker=function(r,t){for(var n=function(o){if(3===r.filter(function(r){return o.some(function(o){return r.row===o.row&&r.column===o.column})&&r.active}).length)return{value:!0}},e=0,u=[[{row:t.row,column:t.column},{row:t.row-1,column:t.column},{row:t.row-2,column:t.column}],[{row:t.row,column:t.column},{row:t.row,column:t.column-1},{row:t.row,column:t.column-2}]];e<u.length;e++){var c=n(u[e]);if("object"===o(c))return c.value}return!1},exports.detectTub=function(o,r){var t=[{row:r.row,column:r.column},{row:r.row-2,column:r.column},{row:r.row-1,column:r.column-1},{row:r.row-1,column:r.column+1}];return 4===o.filter(function(o){return t.some(function(r){return o.row===r.row&&o.column===r.column})&&o.active}).length},exports.detectPulsar=function(o,r){return!1},exports.detectToad=function(o,r){return!1},exports.detectLoaf=function(o,r){var t=[{row:r.row,column:r.column},{row:r.row-1,column:r.column-1},{row:r.row-2,column:r.column-2},{row:r.row-3,column:r.column},{row:r.row-3,column:r.column-1},{row:r.row-1,column:r.column+1},{row:r.row-2,column:r.column+1}];return 7===o.filter(function(o){return t.some(function(r){return o.row===r.row&&o.column===r.column})&&o.active}).length},exports.detectBoat=function(r,t){for(var n=function(o){if(5===r.filter(function(r){return o.some(function(o){return r.row===o.row&&r.column===o.column})&&r.active}).length)return{value:!0}},e=0,u=[[{row:t.row,column:t.column},{row:t.row,column:t.column-1},{row:t.row-1,column:t.column},{row:t.row-1,column:t.column-2},{row:t.row-2,column:t.column-1}],[{row:t.row,column:t.column},{row:t.row,column:t.column-1},{row:t.row-1,column:t.column},{row:t.row-1,column:t.column-2},{row:t.row-2,column:t.column-1}]];e<u.length;e++){var c=n(u[e]);if("object"===o(c))return c.value}return!1},exports.detectGlider=function(o,r){return!1},exports.getNeighborIndicies=function(o,r,t,n){var e=r.row-1;e<0&&(e=t);var u=r.row+1;u>t&&(u=0);var c=r.column-1;c<0&&(c=n);var l=r.column+1;l>n&&(l=0);var i=[{row:u,column:r.column},{row:e,column:r.column},{row:r.row,column:c},{row:r.row,column:l},{row:u,column:l},{row:e,column:c},{row:u,column:c},{row:e,column:l}];return o.filter(function(o){return i.some(function(r){return r.row===o.row&&r.column===o.column})}).map(function(o){return o.id})},exports.drawBoard=function(o,r,t){o.fillStyle="#000",o.fillRect(0,0,r,t)},exports.initalizeGrid=function(o){for(var r=o.height,t=o.width,n=o.columns,e=o.rows,u=o.xOffset,c=o.yOffset,l=t/n,i=r/e,m=1+l,w=1+i,a=Array(e*n).fill(0).map(function(o,r){var t=Math.floor(r/e),a=r%n;return{id:r,row:t,column:a,x:u+m*a,y:c+w*t,sizeX:l,sizeY:i,active:Boolean(Math.floor(2*Math.random())),neighborIds:[]}}),f=0,s=a;f<s.length;f++){var p=s[f];p.neighborIds=exports.getNeighborIndicies(a,p,e,n)}return a},exports.getNewCellState=function(o,r){var t=r.neighborIds.filter(function(r){return o[r].active}).length;return!r.active&&3===t||(!r.active||!(t<2||t>3))&&r.active},exports.computeNextState=function(o){return new Promise(function(n,e){for(var u=t(o.map(function(o){return r({},o)})),c=u.length,l=0,i=0;i<c;i++){var m=o[i],w=u[i],a=exports.getNewCellState(o,m);w.active=a,l+=Number(w.active);exports.detectPatterns(m)}n({aliveCells:l,grid:u,lifes:Object.entries({}).map(function(o,r){return t([r],o)})})})};
},{}],"hztc":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.setButton=exports.registered=exports.drawCell=exports.setText=void 0;var e={fontSize:"30px",fontFamily:"Arial",color:"#FFF"};exports.setText=function(r,o){var s=t(t({},e),o);if(!(s.color&&s.text&&s.x&&s.y))throw new Error("Missing params: x, y, color, text");r.fillStyle=s.color,r.font=s.fontSize+" "+s.fontFamily;var i=r.measureText(s.text).width;r.fillText(s.text,s.x-i,s.y)},exports.drawCell=function(t,e){var r=e.x,o=e.y,s=e.sizeX,i=e.sizeY,l="#FFFFFF99";e.active||(l="#000"),t.fillStyle=l,t.fillRect(r,o,s,i)},exports.registered=[],exports.setButton=function(r,o,s,i){var l=t(t({},e),s);if(!(l.color&&l.text&&l.x&&l.y))throw new Error("Missing params: x, y, color, text");exports.registered.some(function(t){return t.id===r})||exports.registered.push({id:r,startX:l.x-10,startY:l.y-35,endX:l.x+100,endY:l.y+50,callback:i}),o.fillStyle=l.color,o.font=l.fontSize+" "+l.fontFamily,o.fillText(l.text,l.x,l.y),o.strokeStyle="#FFF",o.strokeRect(l.x-10,l.y-35,100,50)};
},{}],"MYCW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api"),t=require("./utils/drawing");exports.default=function(){var i=document.getElementById("canvas"),n=i.getContext("2d"),r=window.innerWidth,o=window.innerHeight;i.width=r,i.height=o;var a={xOffset:r/5,yOffset:o/9,width:r/2,height:o/1.5,rows:100,columns:100};if(i.addEventListener("mousemove",function(e){for(var n=e.clientX,r=e.clientY,o=0,a=t.registered;o<a.length;o++){var l=a[o],d=l.startX,s=l.endX,u=l.startY,c=l.endY;i.style.cursor=n>d&&n<s&&r>u&&r<c?"pointer":"initial"}}),i.addEventListener("click",function(e){for(var i=e.clientX,n=e.clientY,r=0,o=t.registered;r<o.length;r++){var a=o[r],l=a.startX,d=a.endX,s=a.startY,u=a.endY,c=a.callback;if(i>l&&i<d&&n>s&&n<u)return void c()}}),window.addEventListener("resize",function(){r=window.innerWidth,o=window.innerHeight,i.width=r,i.height=o,a.width=r,a.height=o-200,s=!0,l=e.initalizeGrid(a)}),n){var l=e.initalizeGrid(a),d=(window.devicePixelRatio,n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio,{grid:l,lifes:[],aliveCells:0}),s=!1,u=!1,c=function e(t){if(u)return s||(d=t),s=!1,void setTimeout(f,0);setTimeout(e,5)},f=function(){var t=d.grid;e.computeNextState(t).then(function(e){setTimeout(function(){return c(e)},0)})};setTimeout(f,0);var g=(new Date).getFullYear(),v=function(){s=!0,l=e.initalizeGrid(a),d={grid:l,lifes:[],aliveCells:0}};requestAnimationFrame(function a(){u=!1,e.drawBoard(n,i.width,i.height);for(var l=d,s=l.aliveCells,c=(l.lifes,0),f=l.grid;c<f.length;c++){var h=f[c];t.drawCell(n,h)}t.setText(n,{text:"Alive cells "+s,x:r/5,y:o/10}),t.setText(n,{text:"Game of Life",x:r/2,y:o/10,fontSize:"50px"}),t.setButton(1,n,{text:"Reset",x:2*r/3,y:9*o/10},v),t.setText(n,{text:"JÃ³zef Podlecki "+g,x:r/2,y:9*o/10}),u=!0,setTimeout(function(){requestAnimationFrame(a)},30)})}};
},{"./api":"in7L","./utils/drawing":"hztc"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./game"));window.addEventListener("load",t.default);
},{"./game":"MYCW"}]},{},["QCba"], null)
//# sourceMappingURL=/GameOfLife/src.a19be5b1.js.map